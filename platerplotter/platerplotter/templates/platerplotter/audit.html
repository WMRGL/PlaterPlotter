{% extends 'platerplotter/base.html' %}
{% load bootstrap4 %}
{% load static %}
{% block title %}
    Audit - {{ block.super }}
{% endblock title %}
{% load crispy_forms_tags %}


{% block content %}
<div class='container-fluid'>
 <div class="row">
  <div class="col-6">
    <h3>Audit</h3>
  </div>
   	{% if samples %}
   	<div class="col-12">
 	 <div class="tab-pane active">
          <table class="table table-bordered" id="dataTablePag">
            <thead>
              <tr>
                <th>Laboratory Sample ID</th>
              	<th>Participant ID</th>
              	<th>Group ID</th>
              	<th>Disease Area</th>
              	<th>Receiving Rack, Well</th>
              	<th>Sent by</th>
                <th>Received</th>
                <th>GEL1005 sent</th>  
                <th>Holding Rack, Well</th>  
                <th>Holding Rack Type</th>    
                <th>Plate ID, Well</th>
                <th>GEL1008 sent</th>
                <th>Consignment Number</th>
                <th>Date of Dispatch</th>
                <th>Issue</th>
                <th>Issue Outcome</th>    
              </tr>
            </thead>
            <tbody>
            {% for sample in samples %}
            <tr>
              <td>{{ sample.laboratory_sample_id }}</td>
              <td>{{ sample.participant_id }}</td>
              <td>{{ sample.group_id }}</td>
              <td>{{ sample.disease_area }}</td>
              <td>{{ sample.receiving_rack.receiving_rack_id }} {{ sample.receiving_rack_well }}</td>
              <td>{{ sample.receiving_rack.laboratory_id }}</td>
              <td>{{ sample.sample_received_datetime }}</td>
              <td>{{ sample.receiving_rack.gel_1004_csv.gel_1005_csv.report_generated_datetime }}</td>
              <td>{{ sample.holding_rack_well.holding_rack.holding_rack_id }} {{ sample.holding_rack_well.well_id }}</td>
              <td>{{ sample.holding_rack_well.holding_rack.holding_rack_type }}</td>
              <td>{{ sample.holding_rack_well.holding_rack.plate.plate_id }} 
                {% if sample.holding_rack_well.holding_rack.plate.plate_id %}
                  {{ sample.holding_rack_well.well_id }}
                {% endif %}
              </td>
              <td>{{ sample.holding_rack_well.holding_rack.plate.gel_1008_csv.report_generated_datetime }}</td>
              <td>{{ sample.holding_rack_well.holding_rack.plate.gel_1008_csv.consignment_number }}</td>
              <td>{{ sample.holding_rack_well.holding_rack.plate.gel_1008_csv.date_of_dispatch }}</td>
              <td>{{ sample.comment }}</td>
              <td>{{ sample.issue_outcome }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div> 
 	</div>
 	{% endif %}
 </div>
</div>

{% endblock content %}